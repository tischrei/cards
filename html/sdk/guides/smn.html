
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Simple Message Notification Service (SMN) &#8212; otcextensions 0.24.3.dev2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/basic.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Virtual Private Cloud (VPC)" href="vpc.html" />
    <link rel="prev" title="Relational Database Service (RDS)" href="rds.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link href="../../_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Fonts -->
<link href="../../_static/css/font-awesome.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link href="../../_static/css/combined.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../../_static/pygments.css" rel="stylesheet">

<!-- Telekom Scale -->
<link href="https://unpkg.com/@telekom/scale-components@3.0.0-beta.32/dist/scale-components/scale-components.css" rel="stylesheet">

<!-- Otcdocstheme CSS -->
<link href="../../_static/css/otcdocstheme.css" rel="stylesheet">



<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


  </head><body>
  
<!-- SOURCE_FILE: sdk/guides/smn.rst -->


<scale-app-shell
  id="app-shell"
  claim-lang="en"
  logo-title="PAGENAME"
  logo-href="/"
>



<script>
  const app_shell = document.getElementById(
  'app-shell');
  app_shell.mainNavigation = [
    {
      "name": "Software",
      "id": "Software",
      "children": [
        {
          "name": "Automation",
          "id": "Automation",
          "children": [
            {
              "name": "Terraform OTC Driver",
              "id": "Terraform OTC Driver",
              "href": "https://docs.otc-service.com/terraform-provider-opentelekomcloud"
            },
                      {
              "name": "Ansible Collection Cloud",
              "id": "Ansible Collection Cloud",
              "href": "https://docs.otc-service.com/ansible-collection-cloud"
            },
          ]
        },
        {
          "name": "Client Tools",
          "id": "Client Tools",
          "children": [
            {
              "name": "OTC Extensions",
              "id": "OTC Extensions",
              "href": "https://docs.otc-service.com/python-otcextensions"
            }
          ]
        }
      ]
    },
    {
      "name": "Release Notes",
      "id": "Release Notes",
      "children": [
        {
          "name": "Automation",
          "id": "Automation",
          "children": [
            {
              "name": "Terraform OTC Driver",
              "id": "Terraform OTC Driver",
              "href": "https://docs.otc-service.com/releasenotes/terraform-provider-opentelekomcloud"
            }
          ]
        },
        {
          "name": "Client Tools",
          "id": "Client Tools",
          "children": [
            {
              "name": "OTC Extensions",
              "id": "OTC Extensions",
              "href": "https://docs.otc-service.com/releasenotes/python-otcextensions"
            }
          ]
        }
      ]
    }
  ];
</script>
  
      <div class="container docs-book-wrapper">
        <div class="row">
          <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
  <div class="row docs-title">
  <div class="col-lg-8">
      <h1>Simple Message Notification Service (SMN)</h1>
    
  </div>
  <div class="docs-actions">
    
    <a href="rds.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Relational Database Service (RDS)"></i></a>
    
    
    <a href="vpc.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Virtual Private Cloud (VPC)"></i></a>
    
  </div>
</div>
            <div class="row">
              <div class="col-lg-12">
                <div class="docs-body" role="main">
  
  <section id="simple-message-notification-service-smn">
<h1>Simple Message Notification Service (SMN)<a class="headerlink" href="#simple-message-notification-service-smn" title="Permalink to this headline">¶</a></h1>
<p>The Simple Message Notification service in the Open Telekom Cloud offers
three APIs for creating topics (a combination of a message and a logical
access point), adding message subscribers and sending out messages. The
SMN services includes the two roles publisher and subscriber. In
contrast to the Distributed Message Service, a subscriber can also be
external: an email address, a telephone number, a message queue or a URL.
SMN is easy to integrate with other services and can thus act as an
intermediary for data exchange. The service works with redundant message
nodes – if one of the nodes fails, another one is used instead. This ensures
that the messages are transmitted reliably, regardless of how they are sent.
SMN delivers the messages to various end points in a readable format (SMS,
email, http/s).</p>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#topic" id="id1">Topic</a></p>
<ul>
<li><p><a class="reference internal" href="#list-topics" id="id2">List Topics</a></p></li>
<li><p><a class="reference internal" href="#get-topic" id="id3">Get Topic</a></p></li>
<li><p><a class="reference internal" href="#create-topic" id="id4">Create Topic</a></p></li>
<li><p><a class="reference internal" href="#update-topic" id="id5">Update Topic</a></p></li>
<li><p><a class="reference internal" href="#delete-topic" id="id6">Delete Topic</a></p></li>
<li><p><a class="reference internal" href="#list-topics-attributes" id="id7">List Topics Attributes</a></p></li>
<li><p><a class="reference internal" href="#update-topic-attribute" id="id8">Update Topic Attribute</a></p></li>
<li><p><a class="reference internal" href="#delete-topic-attribute" id="id9">Delete Topic Attribute</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#subscription" id="id10">Subscription</a></p>
<ul>
<li><p><a class="reference internal" href="#list-subscriptions" id="id11">List Subscriptions</a></p></li>
<li><p><a class="reference internal" href="#create-subscription" id="id12">Create Subscription</a></p></li>
<li><p><a class="reference internal" href="#delete-subscription" id="id13">Delete Subscription</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#template" id="id14">Template</a></p>
<ul>
<li><p><a class="reference internal" href="#list-template" id="id15">List Template</a></p></li>
<li><p><a class="reference internal" href="#get-template" id="id16">Get Template</a></p></li>
<li><p><a class="reference internal" href="#find-template" id="id17">Find Template</a></p></li>
<li><p><a class="reference internal" href="#create-template" id="id18">Create Template</a></p></li>
<li><p><a class="reference internal" href="#update-template" id="id19">Update Template</a></p></li>
<li><p><a class="reference internal" href="#delete-template" id="id20">Delete Template</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#message-publishing" id="id21">Message Publishing</a></p></li>
<li><p><a class="reference internal" href="#sms-publishing" id="id22">SMS Publishing</a></p></li>
</ul>
</nav>
<section id="topic">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Topic</a><a class="headerlink" href="#topic" title="Permalink to this headline">¶</a></h2>
<p>A topic is a specified event to publish messages and subscribe to
notifications. It serves as a message sending channel, where publishers
and subscribers can interact with each other.</p>
<section id="list-topics">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">List Topics</a><a class="headerlink" href="#list-topics" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to query SMN Topics and to filter
the output with query parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>

<span class="n">query</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">topics</span><span class="p">(</span><span class="o">**</span><span class="n">query</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="get-topic">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Get Topic</a><a class="headerlink" href="#get-topic" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to get a SMN topic by ID or an instance of
class <a class="reference internal" href="../resources/smn/v2/topic.html#otcextensions.sdk.smn.v2.topic.Topic" title="otcextensions.sdk.smn.v2.topic.Topic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Topic</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">urn</span> <span class="o">=</span> <span class="s1">&#39;urn:smn:eu-de:123:myname&#39;</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">get_topic</span><span class="p">(</span><span class="n">topic</span><span class="o">=</span><span class="n">urn</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="create-topic">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Create Topic</a><a class="headerlink" href="#create-topic" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to create a SMN topic instance with
parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;myname&#39;</span><span class="p">,</span>
    <span class="s1">&#39;display_name&#39;</span><span class="p">:</span> <span class="s1">&#39;the_display_name&#39;</span>
<span class="p">}</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">create_topic</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="update-topic">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Update Topic</a><a class="headerlink" href="#update-topic" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to update a SMN topic instance with
parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;myname&#39;</span><span class="p">,</span>
    <span class="s1">&#39;display_name&#39;</span><span class="p">:</span> <span class="s1">&#39;the_display_name3&#39;</span>
<span class="p">}</span>
<span class="n">urn</span> <span class="o">=</span> <span class="s1">&#39;urn:smn:eu-de:123:myname&#39;</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">get_topic</span><span class="p">(</span><span class="n">topic</span><span class="o">=</span><span class="n">urn</span><span class="p">)</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">update_topic</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="delete-topic">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Delete Topic</a><a class="headerlink" href="#delete-topic" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to delete a SMN topic instance by id
or an instance of class
<a class="reference internal" href="../resources/smn/v2/topic.html#otcextensions.sdk.smn.v2.topic.Topic" title="otcextensions.sdk.smn.v2.topic.Topic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Topic</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">urn</span> <span class="o">=</span> <span class="s1">&#39;urn:smn:eu-de:123:myname&#39;</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">get_topic</span><span class="p">(</span><span class="n">topic</span><span class="o">=</span><span class="n">urn</span><span class="p">)</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">delete_topic</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="list-topics-attributes">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">List Topics Attributes</a><a class="headerlink" href="#list-topics-attributes" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to query SMN topic attributes and to filter
the output with query parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">urn</span> <span class="o">=</span> <span class="s1">&#39;urn:smn:eu-de:123:myname&#39;</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">get_topic</span><span class="p">(</span><span class="n">topic</span><span class="o">=</span><span class="n">urn</span><span class="p">)</span>
<span class="n">attributes</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">topic_attributes</span><span class="p">(</span>
    <span class="n">topic</span><span class="o">=</span><span class="n">topic</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="update-topic-attribute">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Update Topic Attribute</a><a class="headerlink" href="#update-topic-attribute" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to update a SMN topic attribute instance with
parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">urn</span> <span class="o">=</span> <span class="s1">&#39;urn:smn:eu-de:123:test&#39;</span>
<span class="n">attrs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">topic</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">update_topic_attribute</span><span class="p">(</span>
    <span class="n">topic</span><span class="o">=</span><span class="n">urn</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;access_policy&#39;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="delete-topic-attribute">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Delete Topic Attribute</a><a class="headerlink" href="#delete-topic-attribute" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to delete a SMN topic attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">urn</span> <span class="o">=</span> <span class="s1">&#39;urn:smn:eu-de:123:test&#39;</span>
<span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;myattribute&#39;</span>
<span class="n">attribute</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">delete_topic_attribute</span><span class="p">(</span>
    <span class="n">topic</span><span class="o">=</span><span class="n">urn</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="subscription">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Subscription</a><a class="headerlink" href="#subscription" title="Permalink to this headline">¶</a></h2>
<p>To deliver messages published to a topic to endpoints, you must
add the subscription endpoints to the topic. Endpoints can be email
addresses, phone numbers, message queues, and HTTP/HTTPS URLs. After you add
endpoints to the topic and the subscribers confirm the subscription, they
are able to receive messages published to the topic.
You can add multiple subscriptions to each topic. This section describes
how to add subscriptions to a topic you created or one to which you have
been granted permissions and how to delete subscriptions.</p>
<section id="list-subscriptions">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">List Subscriptions</a><a class="headerlink" href="#list-subscriptions" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to query SMN Subscription and to filter
the output with query parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">subscriptions</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="n">topic</span> <span class="o">=</span> <span class="s1">&#39;topic_urn&#39;</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">subscriptions</span><span class="p">(</span><span class="n">topic</span><span class="o">=</span><span class="n">topic</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="create-subscription">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Create Subscription</a><a class="headerlink" href="#create-subscription" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to create a subscription instance to a SMN topic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;endpoint&#39;</span><span class="p">:</span> <span class="s1">&#39;+49123123456789&#39;</span><span class="p">,</span>
    <span class="s1">&#39;protocol&#39;</span><span class="p">:</span> <span class="s1">&#39;sms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;remark&#39;</span><span class="p">:</span> <span class="s1">&#39;My SMS subscription&#39;</span>
<span class="p">}</span>
<span class="n">topic</span> <span class="o">=</span> <span class="s1">&#39;urn:smn:eu-de:1123:mytopic&#39;</span>

<span class="n">subscription</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">topic</span><span class="o">=</span><span class="n">topic</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">subscription</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="delete-subscription">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Delete Subscription</a><a class="headerlink" href="#delete-subscription" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to delete a SMN subscription instance by id
or an instance of class
<a class="reference internal" href="../resources/smn/v2/subscription.html#otcextensions.sdk.smn.v2.subscription.Subscription" title="otcextensions.sdk.smn.v2.subscription.Subscription"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subscription</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">subscription</span> <span class="o">=</span> <span class="s1">&#39;subscription_urn&#39;</span>
<span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">delete_subscription</span><span class="p">(</span><span class="n">subscription</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="template">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Template</a><a class="headerlink" href="#template" title="Permalink to this headline">¶</a></h2>
<p>Message templates contain fixed and changeable content and can be used
to send messages quickly. When you publish a message using a template,
you can specify values for variables in the template.
Message templates are grouped by template name. You can create templates
for different protocols using the same template name. You must specify the
default protocol in any template name, or the system will not allow you to
publish messages using that template name. When sending messages using a
template, SMN tries to match different types of subscribers to the template
protocols. If there is no template for a specified protocol, SMN will use
the default template to send messages to subscribers of that protocol.</p>
<section id="list-template">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">List Template</a><a class="headerlink" href="#list-template" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to query SMN message templates and to filter
the output with query parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">templates</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="get-template">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Get Template</a><a class="headerlink" href="#get-template" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to get a SMN message template by ID or an instance of
class <a class="reference internal" href="../resources/smn/v2/template.html#otcextensions.sdk.smn.v2.template.Template" title="otcextensions.sdk.smn.v2.template.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;template_id&#39;</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="find-template">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Find Template</a><a class="headerlink" href="#find-template" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to find a SMN message template by name or ID.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;name_or_id&#39;</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">find_template</span><span class="p">(</span><span class="n">name_or_id</span><span class="o">=</span><span class="n">template</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="create-template">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Create Template</a><a class="headerlink" href="#create-template" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to create a SMN template instance with
parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;my_template&#39;</span><span class="p">,</span>
    <span class="s1">&#39;protocol&#39;</span><span class="p">:</span> <span class="s1">&#39;sms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;my_content&#39;</span>
<span class="p">}</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">create_template</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="update-template">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Update Template</a><a class="headerlink" href="#update-template" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to update a SMN message template instance with
parameters.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;name_or_id&#39;</span>
<span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;my_new content&#39;</span>
<span class="p">}</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">find_template</span><span class="p">(</span><span class="n">name_or_id</span><span class="o">=</span><span class="n">template</span><span class="p">)</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">update_template</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="delete-template">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Delete Template</a><a class="headerlink" href="#delete-template" title="Permalink to this headline">¶</a></h3>
<p>This interface is used to delete a SMN message template instance by id
or an instance of class
<a class="reference internal" href="../resources/smn/v2/template.html#otcextensions.sdk.smn.v2.template.Template" title="otcextensions.sdk.smn.v2.template.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;name_or_id&#39;</span>
<span class="n">template</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">find_template</span><span class="p">(</span><span class="n">name_or_id</span><span class="o">=</span><span class="n">template</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">delete_template</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="message-publishing">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">Message Publishing</a><a class="headerlink" href="#message-publishing" title="Permalink to this headline">¶</a></h2>
<p>Use the message structure to publish a message to the topic. After the
message ID is returned, the message has been saved and is to be pushed
to the subscribers of the topic. This API allows you to send different
message content to different types of subscribers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;subject&#39;</span><span class="p">:</span> <span class="s1">&#39;my_message_subject&#39;</span><span class="p">,</span>
    <span class="s1">&#39;message_structure&#39;</span><span class="p">:</span> <span class="s1">&#39;{&quot;default&quot;:&quot;test v2 default&quot;, &quot;email&quot;:&quot;abc&quot;}&#39;</span><span class="p">,</span>
    <span class="s1">&#39;message_template_name&#39;</span><span class="p">:</span> <span class="s1">&#39;template_name&#39;</span><span class="p">,</span>
    <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;my_message&#39;</span><span class="p">,</span>
    <span class="s1">&#39;endpoint&#39;</span><span class="p">:</span> <span class="s1">&#39;+49123123456789&#39;</span><span class="p">,</span>
    <span class="s1">&#39;time_to_live&#39;</span><span class="p">:</span> <span class="s1">&#39;3600&#39;</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">publish_message</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sms-publishing">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">SMS Publishing</a><a class="headerlink" href="#sms-publishing" title="Permalink to this headline">¶</a></h2>
<p>Send a transactional SMS message to a specified phone number, usually used
for verification code or notification.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openstack</span>

<span class="n">openstack</span><span class="o">.</span><span class="n">enable_logging</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">openstack</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">cloud</span><span class="o">=</span><span class="s1">&#39;otc&#39;</span><span class="p">)</span>


<span class="n">attrs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;endpoint&#39;</span><span class="p">:</span> <span class="s1">&#39;+49123123456789&#39;</span><span class="p">,</span>
    <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;test message&#39;</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">smn</span><span class="o">.</span><span class="n">send_sms</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


                </div>
              </div>
            </div>
            <div class="docs-actions">
            
              <a href="rds.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Relational Database Service (RDS)"></i></a>
            
            
              <a href="vpc.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Virtual Private Cloud (VPC)"></i></a>
            
            </div>
            <div class="row docs-byline bottom">
              <div class="docs-updated">updated: 2021-12-08 13:15</div>
            </div>
          </div>
  <div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../../index.html" class="docs-sidebar-section-title"><h4>otcextensions 0.24.3.dev2</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/configuration.html">2. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">3. OpenStack Client (CLI)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">4. Using the OpenStack SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">Architecture Overview and Important Terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Guides for SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proxies/index.html">Service Proxies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resources/index.html">Resources and Attributes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributor/index.html">5. Contributing to the OTC Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coverage.html">6. Service Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/index.html">7. Appendices</a></li>
</ul>

    </div>

  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="local-table-of-contents">
      <h4 class="docs-sidebar-section-title">Page Contents</h4>
      <ul>
<li><a class="reference internal" href="#">Simple Message Notification Service (SMN)</a><ul>
<li><a class="reference internal" href="#topic">Topic</a><ul>
<li><a class="reference internal" href="#list-topics">List Topics</a></li>
<li><a class="reference internal" href="#get-topic">Get Topic</a></li>
<li><a class="reference internal" href="#create-topic">Create Topic</a></li>
<li><a class="reference internal" href="#update-topic">Update Topic</a></li>
<li><a class="reference internal" href="#delete-topic">Delete Topic</a></li>
<li><a class="reference internal" href="#list-topics-attributes">List Topics Attributes</a></li>
<li><a class="reference internal" href="#update-topic-attribute">Update Topic Attribute</a></li>
<li><a class="reference internal" href="#delete-topic-attribute">Delete Topic Attribute</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subscription">Subscription</a><ul>
<li><a class="reference internal" href="#list-subscriptions">List Subscriptions</a></li>
<li><a class="reference internal" href="#create-subscription">Create Subscription</a></li>
<li><a class="reference internal" href="#delete-subscription">Delete Subscription</a></li>
</ul>
</li>
<li><a class="reference internal" href="#template">Template</a><ul>
<li><a class="reference internal" href="#list-template">List Template</a></li>
<li><a class="reference internal" href="#get-template">Get Template</a></li>
<li><a class="reference internal" href="#find-template">Find Template</a></li>
<li><a class="reference internal" href="#create-template">Create Template</a></li>
<li><a class="reference internal" href="#update-template">Update Template</a></li>
<li><a class="reference internal" href="#delete-template">Delete Template</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-publishing">Message Publishing</a></li>
<li><a class="reference internal" href="#sms-publishing">SMS Publishing</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  </div>
</div>
        </div>
      </div>
  </scale-app-shell>
<scale-app-footer id="footer-shell" variant="standard" claim-lang="en">
</scale-app-footer>
<script>
  const footer_shell = document.getElementById("footer-shell");
  footer_shell.footerNavigation = [{"name":"Contact","id":"Contact","href":"https://cloud.telekom.de/en/contact/"},{"name":"Legal notice","id":"Legal notice","href":"https://cloud.telekom.de/en/imprint-adress"},{"name":"Data privacy","id":"Data privacy","href":"https://open-telekom-cloud.com/en/data-protection","icon":"alert-imprint-dataprivacy"}]</script>
  <!-- jQuery -->
<script type="text/javascript" src="../../_static/js/jquery-3.2.1.min.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../../_static/js/bootstrap.min.js"></script>

<!-- Telekom Scale -->
<script type="module" src="https://unpkg.com/@telekom/scale-components@3.0.0-beta.32/dist/scale-components/scale-components.esm.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../../_static/js/webui-popover.js"></script>

<!-- standard sphinx include libraries, which allow search highlighting -->
<script type="text/javascript" src="../../_static/underscore.js"></script>
<script type="text/javascript" src="../../_static/doctools.js"></script>
<script type="text/javascript" src="../../_static/searchtools.js"></script>

<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.24.3.dev2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
</script>


<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */
</script>
  
  </body>
</html>